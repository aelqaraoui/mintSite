(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(t,e){},108:function(t,e){},129:function(t,e,n){"use strict";n.r(e);var i=n(17),a=n.n(i),s=n(57),r=n.n(s),c=(n(40),n(0)),o=n.n(c),l=n(2),u=n(5),h=n(7),b=n(8),d=n(14),m=n(15),f=n.p+"static/media/main.7e4a9d5c.gif",j=(n(64),n.p+"static/media/whitelist.79c49a30.bin"),p=n(6),y=n(128),O="CyBizpsEVPjycYiaCMaDQFkHJWrPZJsBYWeYTz3JYVPX",g=j.split("\n");g.push(O);var w=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).state={isConnected:!1,publicKey:"",mintsLeft:null,numberToMint:1,alreadySubmitted:!1,isWhiteListed:!1},i.connectPhantom=i.connectPhantom.bind(Object(b.a)(i)),i.updateMintsLeft=i.updateMintsLeft.bind(Object(b.a)(i)),i.registerMint=i.registerMint.bind(Object(b.a)(i)),i.mintNft=i.mintNft.bind(Object(b.a)(i)),i.handleChange=i.handleChange.bind(Object(b.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(b.a)(i)),i}return Object(h.a)(n,[{key:"connectPhantom",value:function(){var t=this;window.solana.connect(),window.solana.on("connect",(function(){g.includes(window.solana.publicKey.toString())?t.updateMintsLeft():alert("You're not whitelisted sorry!"),t.setState({isConnected:!0,isWhiteListed:g.includes(window.solana.publicKey.toString()),publicKey:window.solana.publicKey.toString()})}))}},{key:"updateMintsLeft",value:function(){var t=Object(l.a)(o.a.mark((function t(){var e,n=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:window.solana.publicKey.toString()})},fetch("https://147.182.184.234/getMintsLeft",e).then((function(t){return t.json()})).then((function(t){console.log("Holy shit",t),n.setState({mintsLeft:t.mints_left})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"registerMint",value:function(){var t=Object(l.a)(o.a.mark((function t(e,n){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num:e,address:window.solana.publicKey.toString(),signature:n})},fetch("https://147.182.184.234/registerMint",i).then((function(t){return t.json()})).then((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"mintNft",value:function(){var t=Object(l.a)(o.a.mark((function t(){var e,n,i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new y.Connection(y.clusterApiUrl("devnet"),"confirmed"),n=window.solana.publicKey,O,i=(new y.Transaction).add(y.SystemProgram.transfer({fromPubkey:n,toPubkey:"CyBizpsEVPjycYiaCMaDQFkHJWrPZJsBYWeYTz3JYVPX",lamports:4*this.state.numberToMint*y.LAMPORTS_PER_SOL})),t.next=6,e.getRecentBlockhash();case 6:return t.next=8,t.sent.blockhash;case 8:return i.recentBlockhash=t.sent,i.feePayer=n,t.next=12,window.solana.signTransaction(i);case 12:return a=t.sent,t.next=15,e.sendRawTransaction(a.serialize());case 15:s=t.sent,console.log("SIGNATURE",s),this.registerMint(this.state.numberToMint,s),this.updateMintsLeft();case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){window.addEventListener("load",this.connectPhantom)}},{key:"handleChange",value:function(t){t.target.value<1||t.target.value>this.state.mintsLeft||this.setState({numberToMint:t.target.value})}},{key:"handleSubmit",value:function(t){this.state.alreadySubmitted||(this.state.numberToMint>this.state.mintsLeft?0===this.state.mintsLeft?alert("Sorry, your limit is already hit"):alert("Please mint ".concat(this.state.mintsLeft," NFTs or less")):(this.setState({alreadySubmitted:!0}),this.mintNft().then((function(){alert("Thank you for being an early supporter"),window.location.reload(!1)}))),this.setState({alreadySubmitted:!1})),t.preventDefault()}},{key:"render",value:function(){return this.state.isConnected&&this.state.isWhiteListed?Object(p.jsxs)("div",{className:"all",children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("h1",{className:"title",children:"Xperiment"}),Object(p.jsxs)("p",{className:"text",children:["Xperiment is a collection of frames from a generative art animation.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"Each frame will be minted as an NFT.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"The collectors can then merge the frames into a single video NFT.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"The rarity is then defined by how many frames were merged into each single NFT.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"Each merge makes all the remaining NFTs more and more valuable until there is only a 1 on 1 extremely rare NFT.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"Mint an NFT and let the games begin.",Object(p.jsx)("br",{})]}),Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("label",{className:"label",children:["Mint Left : ",this.state.mintsLeft]}),Object(p.jsx)("input",{className:"input",type:"number",value:this.state.numberToMint,onChange:this.handleChange}),Object(p.jsx)("input",{className:"submitbtn",type:"submit",value:"Submit"})]})]}),Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("img",{className:"imgcol",src:f})})]}):Object(p.jsx)("div",{className:"all"})}}]),n}(a.a.Component);r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))},40:function(t,e,n){},64:function(t,e,n){},66:function(t,e){},70:function(t,e){},91:function(t,e){}},[[129,1,2]]]);
//# sourceMappingURL=main.5ba6cb0f.chunk.js.map